{% extends 'staff/staff_masterpage.html' %}
{% load static %}

{% block header %}

<link rel="stylesheet" href=" {% static 'css/regn-form.css' %}">

{% endblock %}


{% block content %}

<section class="h-100" style=" background: #223a66;">
    <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col">
                <div class="card card-registration my-4">
                    <div class="row g-0">
                        <div class="col-xl-6 d-none d-xl-block">
                            <br><br>
                            <img src="https://marvel-b1-cdn.bc0a.com/f00000000027094/ix-cdn.b2e5.com/images/27094/27094_3ecebd037d0e48248ae08246bddc547e_1556211385.jpeg"
                                alt="Sample photo" class="img-fluid regn">

                        </div>
                        <div class="col-xl-6">
                            <div class="card-body p-md-5 text-black">
                                <h3 class="mb-5 text-uppercase">Patient registration form</h3>
                                {{success_msg}}
                                {{error_msg}}
                        <form method="POST" enctype="multipart/form-data">
                            {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline">
                                            <label class="form-label" for="form3Example1m">Name</label>
                                            <input type="text" name="p_name" id="pname"
                                                class="form-control form-control-lg" required/>

                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline">
                                            <label class="form-label" for="form3Example1n">Age</label>
                                            <input type="text" name="p_age" id="pAge"
                                                class="form-control form-control-lg" required />

                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline">

                                            <label class="form-label" for="form3Example1m1">Date of Birth</label>
                                            <input type="date" name="p_dob" id="form3Example1m1"
                                                class="form-control form-control-lg" required />
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline">
                                            <label class="form-label" for="form3Example1n1"> Blood Group </label>
                                            <input type="text" name="p_blood" id="form3Example1n1"
                                                class="form-control form-control-lg" required />
                                          
                                        </div>
                                    </div>
                                </div>

                                <div class="d-md-flex justify-content-start align-items-center mb-4 py-2">

                                    <h6 class="mb-0 me-4">Gender &nbsp; : &nbsp;&nbsp; </h6>

                                    <div class="form-check form-check-inline mb-0 me-4">
                                        <input class="form-check-input" type="radio" name="gender"
                                            id="femaleGender" value="female" />
                                        <label class="form-check-label" for="femaleGender">Female</label>
                                    </div>

                                    <div class="form-check form-check-inline mb-0 me-4">
                                        <input class="form-check-input" type="radio" name="gender"
                                            id="maleGender" value="male" />
                                        <label class="form-check-label" for="maleGender">Male</label>
                                    </div>

                                    <div class="form-check form-check-inline mb-0">
                                        <input class="form-check-input" type="radio" name="gender"
                                            id="otherGender" value="others" />
                                        <label class="form-check-label" for="otherGender">Other</label>
                                    </div>
                                </div>

                                <div class="form-outline mb-4">
                                    <label class="form-label" for="form3Example9">Contact No</label>
                                    <input type="text" name="p_contact" id="pcontact" class="form-control form-control-lg" required />
                                    <span id="checkno" style="font-size: small"></span
                                </div>

                                <div class="form-outline mb-4">
                                    <label class="form-label" for="form3Example9">Email</label>
                                    <input type="email" name="p_mail" id="pmail" class="form-control form-control-lg" required />
                                    <span id="pemail" style="font-size: small"></span>
                                </div>

                                <div class="form-outline mb-4">
                                    <label class="form-label" for="form3Example8">Address</label> <br>
                                    <textarea class="form-control form-control-lg" name="p_address" id="" cols="52" rows="5" required></textarea>
                                </div>
                   

                                <div class="d-flex justify-content-end pt-3">
                                    <button type="button" class="btn btn-light btn-lg">Reset all</button>
                                    <button type="submit" class="btn btn-primary btn-lg ms-2">Submit form</button>
                                </div>


                            </form>
                            <script>

                                var pemail = document.getElementById('pmail')
                                var number = document.getElementById('pcontact')
    
                                pemail.onkeyup = function () {
    
                                    var email = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/g;
                                    if (pemail.value.match(email)) {
    
                                        document.getElementById('pemail').innerHTML = ' '
                                        document.getElementById('pemail').style.color = 'green'
                                        
                                    }
                                    else {
    
                                        document.getElementById('pemail').innerHTML = 'please enter a valid email'
                                        document.getElementById('pemail').style.color = 'red'
                                        
                                    }
    
                                }
                                number.onkeyup = function(){
                                    var contact = /^[6-9][0-9]{9}$/;
                                    console.log(number.value.match(contact))
                                    if(number.value.match(contact) == null){
                                        document.getElementById('checkno').innerHTML='Invalid number'
                                        document.getElementById('checkno').style.color = 'red'
                                        
                                    }
                                    else{
                                        document.getElementById('checkno').innerHTML=' '
                                        document.getElementById('checkno').style.color = 'green'
                                        
                                    }
                                }
    
    
    
                            </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}